version: '3.9'
services:
    sqldata:
        build: 
            context: .
            dockerfile: dockerSql/Dockerfile
        ports:
            - "5434:1433"
        networks: 
            - front-networks
        
        volumes: 
            - dbdata:/var/lib/mysql

        
    
    
    appdjango:
        build:
            context: .
            dockerfile: docker/Dockerfile
        command: python3 manage.py runserver 0.0.0.0:8000
        depends_on: 
            - sqldata
        ports:
            - "8080:8000"

        networks: 
            - front-networks
        restart: 
            - always


    reactapp:
        build:
            context: .
            dockerfile: dockerReact/Dockerfile
        ports:
            - 3030:3000
        networks: 
            - front-networks


networks: 
    front-networks:
        driver: bridge

volumes:
    dbdata: